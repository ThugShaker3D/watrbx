;// bundle: Pages___CatalogShared___9cf8bad1a6b82e4d4e3f4c91ffef622c_m
;// files: modules/Pages/CatalogShared.js

;// modules/Pages/CatalogShared.js
Roblox.CatalogShared=Roblox.CatalogShared||{},Roblox.CatalogShared=function(){function r(t,r,u,f,e){n||(n=!0,t&&u&&u.length!==0&&(u.find(".right-content").append($('<div class="loading"></div>')),u.find(".subcategories [hover='true']").css("display","none"),u.css("cursor","progress"),$.ajax({method:"GET",params:r,url:t,crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(r){if(n=!1,u.html(r),u.css("cursor","default"),!f){var o=$.Event(i,{url:t,replaceCurrentState:e});u.trigger(o)}})))}function u(n){var i,r;!t&&n.clickTargetID&&(doNotUpdateHistory=!0,n.clickTargetID==="catalog"?(i=n.url?n.url.split("?")[1]:document.URL.split("?")[1],i&&Roblox.CatalogValues&&Roblox.CatalogValues.CatalogContentsUrl?(r=$("#"+Roblox.CatalogValues.ContainerID),Roblox.CatalogShared.LoadCatalogAjax(Roblox.CatalogValues.CatalogContentsUrl+"?"+i,null,r,!0)):window.location.href=n.url):$("#"+n.clickTargetID).click(),doNotUpdateHistory=!1)}function f(n){var u,i,r;Roblox.AdsHelper&&Roblox.AdsHelper.AdRefresher&&Roblox.AdsHelper.AdRefresher.refreshAds(),n.url&&(u=n.url.split("?")[1],u&&(i=document.URL.split("?")[0].toLowerCase(),i=i.indexOf("#")===-1?i:i.split("#")[0],i=i.replace("catalog/default.aspx","catalog/"),i.indexOf("browse.aspx")<0&&i.indexOf("/develop/library")<0&&(i=i+"browse.aspx"),r=i+"?"+u,$("#LibraryTabLink").attr("data-query-params",u),t=!0,n.replaceCurrentState?History.replaceState({clickTargetID:"catalog",url:r},document.title,r):History.pushState({clickTargetID:"catalog",url:r},document.title,r),t=!1))}var i="CatalogLoadedViaAjax",n=!1,t=!1;return{LoadCatalogAjax:r,CatalogLoadedViaAjaxEventName:i,handleURLChange:u,handleCatalogLoadedViaAjaxEvent:f}}();
